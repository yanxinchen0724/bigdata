---
title: Identify solar panels in Ningxia
jupyter:
  jupytext:
    text_representation:
      extension: .qmd
      format_name: quarto
      format_version: '1.0'
      jupytext_version: 1.15.2
  kernelspec:
    display_name: Python 3 (ipykernel)
    language: python
    name: python3
---

## Project Summary 

The primary objective of this project is to utilize Google Earth Engine (GEE) to identify potential locations for solar panel installations in Ningxia, China. 
By analyzing high-resolution Sentinel-2 satellite imagery, the project focuses on classifying land covers with suitable conditions for solar energy production. 
This initiative supports renewable energy goals, aids in the strategic placement of solar panels, and promotes sustainable development practices.

### Problem Statement 

### End User 

The primary end users are renewable energy companies, government agencies involved in energy and environmental planning, and researchers 
studying the adoption and impact of renewable energy technologies. These users can leverage the detailed mapping of solar installations 
to optimize the management and development of solar energy resources.

### Data

Sentinel-2 ImageCollection: High-resolution multi-spectral images that provide detailed information on surface materials and vegetation, critical for distinguishing solar panels. 

SRTM Digital Elevation Model (DEM): Elevation data to help identify and exclude unsuitable areas for solar panels based on terrain steepness [Available Here] (https://developers.google.com/earth-engine/datasets/catalog/USGS_SRTMGL1_003) )


### Methodolo1. Data Acquisition and Preparation
The Sentinel-2 satellite imagery is chosen due to its high spatial resolution and spectral coverage. The images are filtered to include only those with less than 10% cloud cover, ensuring clarity and reliability of the data. This process also involves setting the temporal scope of the images (from April to July each year) to capture the vegetation and land conditions during a specific season.

2. Spectral Band Selection
The selected bands from Sentinel-2 include visible, near-infrared (NIR), and short-wave infrared (SWIR) frequencies. These bands are critical for calculating the indices used to evaluate land characteristics. Bands such as B4 (red) and B8 (NIR) are specifically used for NDVI calculations, which help distinguish vegetation from other types of land cover.

3. Index Calculation

Normalized Difference Vegetation Index (NDVI): This index assesses vegetation health and density (Dodd, Hirons and Puértolas, 2023). For solar panel placement, areas with low NDVI are targeted, as they indicate lesser vegetation and potentially clear land for installation.

Normalized Difference Water Index (NDWI): Used to identify and exclude water bodies (McFEETERS, 1996), as placing solar panels on water (unless specifically designing floating solar farms) is not typically feasible in this inland region.

Normalized Difference Built-up Index (NDBI): Useful in identifying urbanized areas (Zha, Gao and Ni, 2010). Depending on the project’s criteria, these areas might be excluded due to the complex land ownership and higher value of urban land.

4. Terrain Analysis
The terrain is analyzed using the Shuttle Radar Topography Mission (SRTM) Digital Elevation Model to calculate the slope of the land (Rodríguez, Morris and Belz, 2006). Steep slopes are generally unsuitable for solar panel installations due to construction difficulties and efficiency concerns. A threshold is set to exclude such areas. 

5. Data Masking and Filtering
Using the calculated indices and the slope information, a mask is created to exclude areas that are not suitable for solar panels. This mask is applied to the satellite imagery, filtering out high vegetation areas, water bodies, urbanized areas, and steep terrains.

6. Feature Engineering and Sample Collection
Random points are generated within the areas deemed suitable (geometry) for further analysis. These points are labeled based on their land cover type, derived from the indices and visual inspection, creating a dataset for training the machine learning model.

7. Machine Learning: Classification
The Random Forest (RF) classifier, known for its high accuracy, efficiency, and consistency, utilizes multiple decision trees as part of an ensemble model to perform classification or regression tasks (Belgiu and Drăguţ, 2016). A random forest classifier is trained on the labeled dataset. The classifier uses features such as the spectral bands and the indices values to differentiate between potential and non-potential sites for solar panels. The number of trees and other hyperparameters in the random forest are chosen to optimize accuracy and prevent overfitting.

8. Model Validation and Accuracy Assessment
The trained model is then applied to a separate validation dataset to classify the land cover. The confusion matrix, overall accuracy, kappa coefficient are computed. These metrics assess how well the model performs and ensure reliability in real-world applications. An overall accuracy exceeding 70% is deemed acceptable, while a Kappa value between 0.40 and 0.85 indicates good ag
Reference List:
Belgiu, M. and Drăguţ, L. (2016). Random forest in remote sensing: A review of applications and future directions. ISPRS Journal of Photogrammetry and Remote Sensing, [online] 114(114), pp.24–31. doi:https://doi.org/10.1016/j.isprsjprs.2016.01.011.

Congalton, R.G. (1991). A review of assessing the accuracy of classifications of remotely sensed data. Remote Sensing of Environment, 37(1), pp.35–46. doi:https://doi.org/10.1016/0034-4257(91)90048-b
.
Dodd, I.C., Hirons, A.D. and Puértolas, J. (2023). Plant-water relations. In: M.J. Goss and M. Oliver, eds., Encyclopedia of Soils in the Environment. Elsevier BV, pp.516–526. doi:https://doi.org/10.1016/b978-0-12-822974-3.00253-
6.
McFEETERS, S.K. (1996). The use of the Normalized Difference Water Index (NDWI) in the delineation of open water features. International Journal of Remote Sensing, 17(7), pp.1425–1432. doi:https://doi.org/10.1080/014311696089487
14.
Rodríguez, E., Morris, C.S. and Belz, J.E. (2006). A Global Assessment of the SRTM Performance. Photogrammetric Engineering & Remote Sensing, [online] 72(3), pp.249–260. doi:https://doi.org/10.14358/PERS.72.3.
249.
Zha, Y., Gao, J. and Ni, S. (2010). Use of normalized difference built-up index in automatically mapping urban areas from TM imagery. International Journal of Remote Sensing, 24(3), pp.583–594. doi:https://doi.org/10.1080/01431160304987.
reement (Congalton, 1991).
e.a

### Interface

1. Introduction of the application(including background, policy, reference, and etc.)
![pic1](D:/Big Data/GroupProject/bigdata/proposal pic/1.png)

2. Map ：Comparing the coverage of green space and desert in different year/area
![pic2](D:/Big Data/GroupProject/bigdata/proposal pic/2.png)

3. Analysis: Create trend graphs of forest coverage rate and total area changes on an annual 
basis.
![pic3](D:/Big Data/GroupProject/bigdata/proposal pic/3.png)
![pic4](D:/Big Data/GroupProject/bigdata/proposal pic/4.png)

4. Layers： Year/ coverage of green space and desert.
![pic5](D:/Big Data/GroupProject/bigdata/proposal pic/5.png)

5. Legend: desert - wasteland – forest ( classified by different density or related value)
![pic6](D:/Big Data/GroupProject/bigdata/proposal pic/6.png)

6. Interative experience
6.1 Custom target information
![pic7](D:/Big Data/GroupProject/bigdata/proposal pic/7.png)

## The Application 

Replace the link below with the link to your application.

:::{.column-page}

<iframe src='https://ollielballinger.users.earthengine.app/view/turkey-earthquake' width='100%' height='700px'></iframe>

:::
## How it Works 

Use this section to explain how your application works using code blocks and text explanations (no more than 500 words excluding code):

```js
Map.setCenter(35.51898, 33.90153, 15);

Map.setOptions("satellite");

var aoi = ee.Geometry.Point(35.51898, 33.90153).buffer(3000);
```

You can include images:

![Pixelwise T-Test, 2018](images/beirut_change_2020.jpg)

and math:
$$ \Large t = {\frac{\overline{x_1}-\overline{x_2}} {\sqrt{\frac{s^2_1}{n_1} + \frac{s^2_2}{n_2}}}} $$

